<mat-card>
  <mat-card-title>Distance and Angle</mat-card-title>

  <mat-card-content>
    <mat-accordion multi="true">
      <mat-expansion-panel [expanded]="false">
        <mat-expansion-panel-header>
          <mat-panel-title><div style="display: flex;align-items: center;"><mat-icon>help</mat-icon> Description</div></mat-panel-title>
        </mat-expansion-panel-header>
        <p>This utility calculate the distance and angles or azimuths between the two points.</p>

        <p>For
          <a href="https://en.wikipedia.org/wiki/Geographic_coordinate_system">geographic coordinate systems</a> and the
          <a href="https://en.wikipedia.org/wiki/Vincenty%27s_formulae#Inverse_problem">Vincenty's inverse problem formula</a>
          and coordinate system's ellipsoid is used. Latitude and Longitude coordinates, can be entered as either Degrees, Minutes,
          and Seconds (DMS) or Decimal degrees. DMS can be in any of the formats 9:9:9.999, 9Â°9'9.9", or 9 9 9.9.</p>

        <p>For
          <a href="https://en.wikipedia.org/wiki/Map_projection">projected coordinate systems</a>
          the distance and angle will be caculated using both the
          <a href="https://en.wikipedia.org/wiki/Vincenty%27s_formulae#Inverse_problem">Vincenty's inverse problem formula</a> from the point's geographic coordinates and the
          <a href="https://en.wikipedia.org/wiki/Pythagorean_theorem#Euclidean_distance_in_various_coordinate_systems">euclidean distance</a>
          and
          <a href="https://en.wikipedia.org/wiki/Analytic_geometry#Distance_and_angle">angle</a> formula from the projected coordinates.</p>
      </mat-expansion-panel>

      <mat-expansion-panel [expanded]="true" [formGroup]="form">
        <mat-expansion-panel-header>
          <mat-panel-title>Input</mat-panel-title>
        </mat-expansion-panel-header>

        <div class="flexRowToColumn">
          <rs-cs-coordinate-system-field formControlName="cs">
          </rs-cs-coordinate-system-field>

          <rs-cs-point-field [parentForm]="form" name="fromPoint" prefix="From" [required]="true" [floatLabel]="'always'">
          </rs-cs-point-field>

          <rs-cs-point-field [parentForm]="form" name="toPoint" prefix="To" [required]="true" [floatLabel]="'always'">
          </rs-cs-point-field>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <mat-panel-title>Result</mat-panel-title>
        </mat-expansion-panel-header>
        <div>

          <div class="flexRowToColumn">
            <rs-cs-point-field [point]="fromPoint" prefix="From" [angleFormat]="angleFormat" [readonly]="true" [floatLabel]="'always'">
            </rs-cs-point-field>

            <rs-cs-point-field [point]="toPoint"  prefix="To" [angleFormat]="angleFormat" [readonly]="true" [floatLabel]="'always'">
            </rs-cs-point-field>
          </div>

          <div class="flexFields">
            <mat-form-field floatLabel="always">
              <input matInput [value]="formatDistance()" placeholder="Distance" readonly>
              <mat-hint>metres</mat-hint>
            </mat-form-field>
            <mat-form-field floatLabel="always">
              <input matInput [value]="formatAngle(azimuth1)" placeholder="{{angleTitle}} From -> To" readonly>
              <mat-hint>{{angleFormat}}</mat-hint>
            </mat-form-field>
            <mat-form-field floatLabel="always">
              <input matInput [value]="formatAngle(azimuth2)" placeholder="{{angleTitle}} To -> From" readonly>
              <mat-hint>{{angleFormat}}</mat-hint>
            </mat-form-field>
          </div>
        </div>
      </mat-expansion-panel>

    </mat-accordion>
  </mat-card-content>
</mat-card>
